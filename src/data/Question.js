class Entry {
    constructor(id, question, answer, context, generated_by, votes, users) {
        // Id of this item
        this.id = id;

        // The question
        this.question = question;

        // The answer to the question
        this.answer = answer;

        // Additional context, used when we are going to generate
        // other questions based on this on
        this.context = context;

        // Source question, used to auto-derive this.
        // i.e. this id was fed to the ai to generate this 
        // question + answer pair.
        // this is null for questions that are generated by
        // humans.
        this.generated_by = generated_by;

        // Number of votes
        this.votes = votes;

        // Users that have rated this item..
        this.users = users;
    }
    toString() {
        return this.question + ', ' + this.answer + ', ' + this.context;
    }
}

// Firestore data converter
const entryConverter = {
    toFirestore: (entry) => {
        return {
            id: entry.id,
            question: entry.question,
            answer: entry.answer,
            context: entry.context,
            generated_by: entry.generated_by,
            votes: entry.votes,
            users: entry.users,
        };
    },
    fromFirestore: (snapshot, options) => {
        const data = snapshot.data(options);
        return new Entry(data.id, data.question, data.answer, data.context, data.generated_by, data.votes, data.users);
    }
};


